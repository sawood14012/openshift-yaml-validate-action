on: [push, pull_request]

jobs:
  hello_world_job:
    runs-on: ubuntu-latest
    name: test something
    steps:
      - name: checkout
        uses: actions/checkout@v2 
      - name: Install oc
        uses: redhat-actions/oc-installer@v1
        with:
          oc_version: '4.6'
      - name: Install kubeval cli
        uses: sawood14012/setup-kubeval-cli@v1.1
        with:
          version: '0.16.1'
      - name: yaml-action-setup-test-1
        uses: ./
        with:
          files: './openshift'
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: yaml-action-setup-test-2
        uses: ./
        with:
          files: './init.yaml'
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: yaml-action-setup-test-3
        uses: ./
        with:
          files: './pvc.yaml'
          kubernetes_mode: 'true'
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: yaml-action-setup-test-4
        uses: ./
        with:
          files: './non_temp'
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          schema_url: 'https://data-msawood.s3.us-east-2.amazonaws.com'
      
     